{{> top title="Extend change constructor"}}

	<div class="testElement"></div>

	<script>

		var Foo = $.kist.segment.extend({
			constructor: function () {
				console.info('Calling custom constructor…');
				Foo._super.constructor.apply(this, arguments);
			},
			el: 'html',
			childrenEl: {
				'body': 'body',
				'foo': 'bar'
			},
			events: {
				'click .testElement': 'testClick'
			},
			init: function ( options ) {
				console.log('Initialized.');
				this.setOptions(options);
				console.log(this.options);
			},
			testClick: function () {
				console.log('.testElement clicked!');
			}
		});

		var Bar = Foo.extend({
			constructor: function () {
				Bar._super.constructor.apply(this, arguments);
				console.info('Calling custom constructor, second time…');
			},
			el: 'body',
			childrenEl: $.extend({}, Foo.prototype.childrenEl, {
				'div': 'div'
			}),
			testClick: function () {
				Bar._super.testClick.call(this);
				console.log('.testElement clicked, with overriden method on `Bar`.');
			}
		});

		foo = new Foo();
		bar = new Bar();

		console.info(Foo);
		console.log(foo);
		console.log('---');
		console.info(Bar);
		console.log(bar);

	</script>

{{> bottom}}
